; TODO - interaction-environment sort of simulates real
; expected runtime environment
; current can't resolve ex:undefined, which is inside expander
; will need to resolve these to expanded code instead of direct emit
; (including register-macro etc)

; instead of scheme, output record of program vs library
; all are modules
; libraries are modules with exported identifiers
; programs are modules with an exported "main"
; modules have a "type" export
; instead of compat-eval, call runtime directly
; and get rid of all evals except for repl/loki-eval

; expose make-record-type, other primitives
